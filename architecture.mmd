<!-- architecture.mmd -->
flowchart TD

%% =====================
%% SIMPLE PROJECT OVERVIEW
%% =====================

%% --- USER INPUT ---
U[ðŸ§‘ User<br>CLI or Prompt] --> CD

%% --- CLI DEMO ---
CD[ðŸ’¬ cli_demo.py<br>Runs the agent & prints replies] --> AC

%% --- MAIN AGENT ---
AC[ðŸ§  agent_core.py<br>Agent Reasoning + Groq LLM<br>RAG + Tools + Reflection]

%% --- DECISION: TOOL OR DIRECT ANSWER ---
AC -->|Needs data| TR
AC -->|Answer directly| OUT[ðŸ’¡ Final Response + Reflection]

%% --- TOOL REGISTRY ---
TR[ðŸ§° tools.py<br>TOOL_REGISTRY] --> T1
TR --> T2
TR --> T3
TR --> T4

%% --- RAG TOOL ---
T1[ðŸ”Ž rag_search()] --> RP
RP[ðŸ“„ rag_pipeline.py] --> KB[(ðŸ“˜ knowledge_base.md)]
RP --> VS[(ðŸ§  Vector Store: FAISS + Embeddings)]

%% --- FILE TOOLS ---
T2[ðŸ“‚ list_repo_files()] --> Repo[ðŸ“ Repository Files]
T3[ðŸ“„ read_file()] --> Repo

%% --- EVALUATION TOOL ---
T4[ðŸ“Š run_eval_on_qa_set()] --> QA[(data/qa_eval_set.json)]

%% --- OUTPUT SECTION ---
AC --> PG
PG[ðŸ“¢ post_generator.py<br>Creates LinkedIn-style posts]

%% --- FINAL ---
OUT --> U
PG --> U

%% =====================
%% LEGEND (READ ONLY)
%% =====================
classDef agent fill:#ffe6cc,stroke:#d35400;
classDef tool fill:#d6f5ff,stroke:#006699;
classDef file fill:#f8d7da,stroke:#c0392b;
classDef process fill:#e8f5e9,stroke:#2ecc71;

class AC agent
class TR,T1,T2,T3,T4 tool
class Repo,KB,QA file
class RP,PG process
